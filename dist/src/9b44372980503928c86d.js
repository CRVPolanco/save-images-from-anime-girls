(()=>{"use strict";const e=t=>{if(0!==localStorage.length){t.innerHTML="";for(let i=0;i<localStorage.length;i++){const a=JSON.parse(localStorage.getItem(localStorage.key(i))),s=document.createElement("article"),c=document.createElement("img"),n=document.createElement("button"),d=document.createElement("p"),o=document.createTextNode(`Favorites: ${a.favorites}`);s.classList.add("card"),c.classList.add("card--standar-img"),c.setAttribute("id",a.id),c.src=a.url,n.classList.add("card-icon--favorites"),n.setAttribute("id",a.id),n.addEventListener("click",(()=>{r(a.image_id)&&n.classList.add("card-icon--favorites"),"card-icon--favorites"===n.className&&(n.classList.add("card-icon--no-favorites"),n.classList.remove("card-icon--favorites"),l(a),e(t),0===localStorage.length&&(t.innerHTML=""))})),d.classList.add("favorite-count"),d.appendChild(o),s.appendChild(c),s.appendChild(n),s.appendChild(d),t.appendChild(s)}}},t="https://api.waifu.im/random/",i="?many=true",a="&selected_tags=",s="maid&",c="uniform&",n="waifu&";async function d(e,t,i){const a=await(async e=>(await fetch(`${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json())(e);((e,t,i=30)=>{e.innerHTML="";for(let a=0;a<i;a++){let i=t.images[a];const s=document.createElement("article"),c=document.createElement("img"),n=document.createElement("button"),d=document.createElement("p"),l=document.createTextNode(`Favorites: ${i.favourites}`);s.classList.add("card"),c.classList.add("card--standar-img"),c.src=i.url,c.setAttribute("id",i.image_id),r(i.image_id)?(n.classList.remove("card-icon--no-favorites"),n.classList.add("card-icon--favorites")):n.classList.add("card-icon--no-favorites"),n.addEventListener("click",(()=>{"card-icon--no-favorites"===n.className?(n.classList.remove("card-icon--no-favorites"),n.classList.add("card-icon--favorites"),o(i)):(n.classList.remove("card-icon--favorites"),n.classList.add("card-icon--no-favorites"),o(i))})),n.setAttribute("id",i.image_id),d.classList.add("favorite-count"),d.appendChild(l),s.appendChild(c),s.appendChild(n),s.appendChild(d),e.appendChild(s)}})(t,a,i)}const o=e=>{const t=e,i={id:t.image_id??t.id,url:t.url,favorites:t.favourites};r(i.id)?localStorage.removeItem(i.id):localStorage.setItem(String(i.id),JSON.stringify(i))},r=e=>!!localStorage.getItem(e),l=t=>{0===localStorage.length&&e(g);const i=t;localStorage.removeItem(i.id),e(g)},v=(document.querySelector("#header"),document.querySelector("#app"),document.querySelector("#footer")),m=document.querySelector(".main-container"),u=document.querySelector(".cont1"),L=document.querySelector(".cont2"),f=document.querySelector(".cont3"),S=document.querySelector(".generic-cont"),g=document.querySelector(".fav-cont"),h=document.querySelector(".generic-cont-principal"),y=document.querySelector(".favorites-container-return-and-subtitles"),p=document.querySelector(".main-title"),q=document.querySelector(".sub1"),$=(document.querySelector(".sub2"),document.querySelector(".sub3"),document.querySelector(".sub4")),b=document.querySelector(".generic-cont--subtitle"),E=(document.querySelector(".changing-subtitle--generic-cont"),document.querySelector(".see-more-button"),document.querySelector("#uniform"),document.querySelector("#maid"),document.querySelector("#waifu"),document.querySelector(".return-back-icon--favorites")),w=document.querySelector(".return-back-icon--generic");document.querySelector(".card"),document.querySelector(".nav-logo--icon"),document.querySelector(".nav-icon--favorites");function C(){return history.back(),!0}w.onclick=C,E.onclick=C;const T=()=>{location.hash.startsWith("#waifu")?k():location.hash.startsWith("#maid")?M():location.hash.startsWith("#uniform")?H():location.hash.startsWith("#favorites")?N():""===location.hash&&(_(),C&&(S.classList.add("inactive"),g.classList.add("inactive"),b.classList.add("inactive"))),window.scrollTo(0,0,0)},k=()=>{b.innerHTML="Waifu",m.classList.add("inactive"),v.classList.add("inactive"),p.classList.add("inactive"),g.classList.add("inactive"),$.classList.add("inactive"),q.classList.remove("inactive"),b.classList.remove("inactive"),S.classList.remove("inactive"),w.classList.remove("inactive"),E.classList.add("inactive"),h.classList.remove("inactive"),y.classList.add("inactive"),d(`${t}${i}${a}${n}`,S,30)},M=()=>{b.innerHTML="Maid",m.classList.add("inactive"),S.classList.remove("inactive"),v.classList.add("inactive"),p.classList.add("inactive"),g.classList.add("inactive"),$.classList.add("inactive"),q.classList.remove("inactive"),b.classList.remove("inactive"),w.classList.remove("inactive"),E.classList.add("inactive"),h.classList.remove("inactive"),y.classList.add("inactive"),d(`${t}${i}${a}${s}`,S,30)},H=()=>{b.innerHTML="Uniform",m.classList.add("inactive"),S.classList.remove("inactive"),v.classList.add("inactive"),p.classList.add("inactive"),g.classList.add("inactive"),$.classList.add("inactive"),q.classList.remove("inactive"),b.classList.remove("inactive"),w.classList.remove("inactive"),E.classList.add("inactive"),h.classList.remove("inactive"),y.classList.add("inactive"),d(`${t}${i}${a}${c}`,S,30)},N=()=>{m.classList.add("inactive"),S.classList.add("inactive"),v.classList.add("inactive"),p.classList.add("inactive"),q.classList.add("inactive"),$.classList.remove("inactive"),g.classList.remove("inactive"),w.classList.add("inactive"),E.classList.remove("inactive"),b.classList.add("inactive"),h.classList.add("inactive"),y.classList.remove("inactive"),e(g)},_=()=>{S.classList.add("inactive"),w.classList.add("inactive"),E.classList.add("inactive"),b.classList.add("inactive"),g.classList.add("inactive"),$.classList.add("inactive"),m.classList.remove("inactive"),p.classList.remove("inactive"),v.classList.remove("inactive"),q.classList.remove("inactive"),h.classList.add("inactive"),y.classList.add("inactive"),d(`${t}${i}${a}${n}`,u,8),d(`${t}${i}${a}${s}`,L,8),d(`${t}${i}${a}${c}`,f,8)};window.addEventListener("DOMContentLoaded",T,!1),window.addEventListener("hashchange",T,!1)})();